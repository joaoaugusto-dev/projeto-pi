<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>

<!-- Modal para mensagens -->
<div class="modal fade" id="feedbackModal" tabindex="-1" aria-labelledby="feedbackModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="feedbackModalLabel">Informação</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" id="feedbackModalBody">
        <!-- Mensagem será inserida aqui -->      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
      </div>
    </div>
  </div>
</div>

<script>
  // Função para limpar o backdrop e os estilos do modal que podem persistir após fechar
  document.addEventListener('click', function(event) {
    // Se o clique foi no botão de fechar ou no botão "Fechar"
    if (event.target.classList.contains('btn-close') || 
        (event.target.tagName === 'BUTTON' && event.target.getAttribute('data-bs-dismiss') === 'modal')) {
      
      // Dá tempo para o modal processar o fechamento
      setTimeout(function() {
        // Remove qualquer backdrop persistente
        const backdrop = document.querySelector('.modal-backdrop');
        if (backdrop) {
          backdrop.remove();
        }
        
        // Remove a classe modal-open e restaura o scroll
        document.body.classList.remove('modal-open');
        document.body.style.overflow = '';
        document.body.style.paddingRight = '';
      }, 300);
    }
  });
</script>

<style>
    footer.bg-dark {
        background-color: #1a1a1a !important;
    }

    footer .text-muted {
        color: rgba(255,255,255,0.7) !important;
    }

    footer .text-light {
        color: #ffffff !important;
    }

    footer a.text-muted {
        transition: color 0.3s ease;
    }

    footer a.text-muted:hover {
        color: #ffffff !important;
        text-decoration: none;
    }

    [data-theme="dark"] footer.bg-dark {
        background-color: #000000 !important;
        border-top: 1px solid #333333;
    }

    [data-theme="dark"] footer .text-muted {
        color: #cccccc !important;
    }

    [data-theme="dark"] footer a.text-muted:hover {
        color: #ffffff !important;
    }

    [data-theme="high-contrast"] footer.bg-dark {
        background-color: #000000 !important;
        border-top: 2px solid #ffffff;
    }

    [data-theme="high-contrast"] footer .text-muted {
        color: #ffffff !important;
    }

    [data-theme="high-contrast"] footer a.text-muted {
        text-decoration: underline;
        color: #ffffff !important;
    }

    [data-theme="high-contrast"] footer a.text-muted:hover {
        background-color: #ffffff;
        color: #000000 !important;
    }

    [data-theme="high-contrast"] footer .btn {
        border: 2px solid #ffffff;
    }

    [data-theme="high-contrast"] footer .btn:hover {
        background-color: #ffffff;
        color: #000000 !important;
    }
</style>

<footer class="bg-dark text-light py-4 mt-5">
    <div class="container">
        <div class="row">
            <div class="col-md-4 mb-4 mb-md-0">
                <h5 class="fw-bold mb-3">Sistema de Automação</h5>
                <p class="mb-0 text-muted">Sistema inteligente para controle de iluminação e temperatura em ambientes corporativos.</p>
            </div>
            <div class="col-md-4 mb-4 mb-md-0">
                <h5 class="fw-bold mb-3">Links Rápidos</h5>                <ul class="list-unstyled">
                    <li class="mb-2"><a href="/" class="text-muted text-decoration-none hover-lift">Início</a></li>
                    <li class="mb-2"><a href="/preferencias" class="text-muted text-decoration-none hover-lift">Preferências</a></li>
                    <li class="mb-2"><a href="/historico" class="text-muted text-decoration-none hover-lift">Histórico</a></li>
                    <li><a href="/dados" class="text-muted text-decoration-none hover-lift">Dados</a></li>
                </ul>
            </div>
            <div class="col-md-4">
                <h5 class="fw-bold mb-3">Acessibilidade</h5>
                <div class="d-flex gap-2 mb-3">
                    <button class="btn btn-sm btn-outline-light" onclick="setTheme('light')">Tema Claro</button>
                    <button class="btn btn-sm btn-outline-light" onclick="setTheme('dark')">Tema Escuro</button>
                    <button class="btn btn-sm btn-outline-light" onclick="setTheme('high-contrast')">Alto Contraste</button>
                </div>
                <div class="d-flex gap-2">
                    <button onclick="decreaseFont()" class="btn btn-sm btn-outline-light">A-</button>
                    <button onclick="increaseFont()" class="btn btn-sm btn-outline-light">A+</button>
                </div>
            </div>
        </div>
        <hr class="my-4 border-secondary">
        <div class="row align-items-center">
            <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
                <small class="text-muted">&copy; <%= new Date().getFullYear() %> Sistema de Automação. Todos os direitos reservados.</small>
            </div>
            <div class="col-md-6 text-center text-md-end">
                <img src="../../images/PackBag-Logo-Original-HOR.png" alt="Logo" height="30" class="bg-white p-1 rounded">
            </div>
        </div>
    </div>
</footer>